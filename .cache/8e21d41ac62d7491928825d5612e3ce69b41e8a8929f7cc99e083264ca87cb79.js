{"source":"webpackJsonp([28],{DV2S:function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var i={name:\"editDiv\",props:{canEdit:{type:Boolean,default:!0},onFocus:{type:Boolean,default:!1}},data:function(){return{innerText:\"\",isLocked:!1,interval:null}},mounted:function(){},directives:{focus:{inserted:function(e,t){t.value&&e.focus()}}},methods:{inputFocus:function(){this.isLocked=!0},inputBlur:function(){this.islocked=!1},changeText:function(){this.$emit(\"INPUT_EVENT\",this.$el.innerHTML)},handleInput:function(e){this.$refs.emoji.innerHTML=e,this.keepLastIndex(this.$refs.emoji)},selectImg:function(e){var t='<img class=\"text-emoji\" name=\"'+e.name+'\" src=\"'+e.file+'\" />',n=this.$refs.emoji,i=void 0,o=void 0;if(n.hasfocus||n.focus(),window.getSelection&&window.getSelection().getRangeAt){(i=window.getSelection().getRangeAt(0)).collapse(!1);var s=(o=i.createContextualFragment(t)).lastChild;i.insertNode(o),s&&(i.setEndAfter(s),i.setStartAfter(s));var c=window.getSelection();c.removeAllRanges(),c.addRange(i)}else document.selection&&document.selection.createRange&&document.selection.createRange().pasteHTML(t);this.$emit(\"INPUT_EVENT\",this.$el.innerHTML)},keepLastIndex:function(e){if(window.getSelection){var t=window.getSelection();t.selectAllChildren(e),t.collapseToEnd()}}}},o=n(\"VU/8\")(i,{render:function(){var e=this.$createElement;return(this._self._c||e)(\"p\",{directives:[{name:\"focus\",rawName:\"v-focus\",value:this.onFocus,expression:\"onFocus\"}],ref:\"emoji\",staticClass:\"container-text\",attrs:{contenteditable:this.canEdit},domProps:{innerHTML:this._s(this.innerText)},on:{focus:this.inputFocus,blur:this.inputBlur,input:this.changeText}})},staticRenderFns:[]},!1,function(e){n(\"nLVj\")},null,null);t.default=o.exports},nLVj:function(e,t){}});"}